<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.7">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="en"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;meta charset="UTF-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;title&gt;SMM: Moment Conditions in Parameter Space&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"&gt;&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;script src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"&gt;&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>* { box-sizing: border-box; margin: 0; padding: 0; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>body { font-family: system-ui, -apple-system, sans-serif; background: #0f172a; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.container { display: flex; flex-direction: column; align-items: center; min-height: 100vh; padding: 1rem; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.title { font-size: 1.5rem; font-weight: bold; color: white; margin-bottom: 0.5rem; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.subtitle { color: #94a3b8; margin-bottom: 1rem; text-align: center; max-width: 36rem; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.main-content { display: flex; gap: 2rem; flex-wrap: wrap; justify-content: center; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.viz-container { background: #1e293b; border-radius: 0.5rem; padding: 0.5rem; cursor: grab; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.viz-container:active { cursor: grabbing; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.viz-container svg { user-select: none; display: block; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.panel { background: #1e293b; border-radius: 0.5rem; padding: 1rem; width: 18rem; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.panel-title { color: white; font-weight: 600; margin-bottom: 0.75rem; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.panel-title-mt { margin-top: 1.5rem; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.checkbox-row { display: flex; align-items: center; gap: 0.5rem; margin-bottom: 0.5rem; cursor: pointer; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.checkbox-row input { width: 1rem; height: 1rem; cursor: pointer; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.color-line { width: 1rem; height: 0.25rem; border-radius: 0.125rem; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.checkbox-label { color: #cbd5e1; font-size: 0.875rem; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.weights-box { background: #334155; border-radius: 0.5rem; padding: 1rem; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.weights-label { color: #94a3b8; font-size: 0.75rem; margin-bottom: 0.75rem; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.slider-group { margin-bottom: 1rem; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.slider-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 0.25rem; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.slider-header-left { display: flex; align-items: center; gap: 0.5rem; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.slider-color { width: 0.75rem; height: 0.25rem; border-radius: 0.125rem; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.slider-name { color: #cbd5e1; font-size: 0.875rem; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.slider-value { font-size: 0.875rem; font-weight: bold; font-family: monospace; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.slider-value-blue { color: #60a5fa; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.slider-value-green { color: #4ade80; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.slider-value-pink { color: #f472b6; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>input[type="range"] { width: 100%; cursor: pointer; height: 0.5rem; border-radius: 0.25rem; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.slider-blue { accent-color: #3b82f6; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.slider-green { accent-color: #22c55e; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.slider-pink { accent-color: #ec4899; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.total-row { text-align: center; color: #64748b; font-size: 0.75rem; margin-top: 0.5rem; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.estimates-box { background: #334155; border-radius: 0.5rem; padding: 1rem; margin-top: 1rem; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.estimates-label { color: #94a3b8; font-size: 0.75rem; margin-bottom: 0.75rem; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.estimate-row { display: flex; justify-content: space-between; font-family: monospace; margin-bottom: 0.5rem; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.estimate-row:last-child { margin-bottom: 0; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.estimate-name { color: #94a3b8; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.estimate-value { color: #fbbf24; font-weight: bold; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.info-box { margin-top: 1.5rem; padding: 0.75rem; background: #334155; border-radius: 0.5rem; font-size: 0.75rem; color: #94a3b8; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.info-title { color: #e2e8f0; font-weight: bold; margin-bottom: 0.5rem; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.info-box p { margin-bottom: 0.5rem; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.legend { margin-top: 1rem; display: flex; gap: 1.5rem; font-size: 0.875rem; flex-wrap: wrap; justify-content: center; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.legend-item { display: flex; align-items: center; gap: 0.5rem; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.legend-line { width: 2rem; height: 0.25rem; border-radius: 0.125rem; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.legend-dot { width: 1rem; height: 1rem; border-radius: 50%; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.legend-text { color: #94a3b8; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.bg-blue { background: #3b82f6; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.bg-green { background: #22c55e; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.bg-pink { background: #ec4899; }</p>
<p class="p1"><span class="Apple-converted-space">    </span>.bg-yellow { background: #eab308; }</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;div id="root"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>const { useState, useMemo, createElement: h } = React;</p>
<p class="p1"><span class="Apple-converted-space">    </span>function GMMVisualization() {</p>
<p class="p1"><span class="Apple-converted-space">      </span>const [rotation, setRotation] = useState({ x: -0.5, y: 0.5 });</p>
<p class="p1"><span class="Apple-converted-space">      </span>const [isDragging, setIsDragging] = useState(false);</p>
<p class="p1"><span class="Apple-converted-space">      </span>const [lastMouse, setLastMouse] = useState({ x: 0, y: 0 });</p>
<p class="p1"><span class="Apple-converted-space">      </span>const [showMoments, setShowMoments] = useState({ m1: true, m2: true, m3: true });</p>
<p class="p1"><span class="Apple-converted-space">      </span>const [zoom, setZoom] = useState(1);</p>
<p class="p1"><span class="Apple-converted-space">      </span>const [weights, setWeights] = useState({ w1: 0.4, w2: 0.4, w3: 0.2 });</p>
<p class="p1"><span class="Apple-converted-space">      </span>const updateWeight = function(key, newValue) {</p>
<p class="p1"><span class="Apple-converted-space">        </span>const oldValue = weights[key];</p>
<p class="p1"><span class="Apple-converted-space">        </span>const delta = newValue - oldValue;</p>
<p class="p1"><span class="Apple-converted-space">        </span>const otherKeys = Object.keys(weights).filter(function(k) { return k !== key; });</p>
<p class="p1"><span class="Apple-converted-space">        </span>const otherSum = otherKeys.reduce(function(sum, k) { return sum + weights[k]; }, 0);</p>
<p class="p1"><span class="Apple-converted-space">        </span>if (otherSum === 0) { const newW = { w1: 0, w2: 0, w3: 0 }; newW[key] = 1; setWeights(newW); return; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>const newWeights = Object.assign({}, weights);</p>
<p class="p1"><span class="Apple-converted-space">        </span>newWeights[key] = newValue;</p>
<p class="p1"><span class="Apple-converted-space">        </span>otherKeys.forEach(function(k) { const proportion = weights[k] / otherSum; newWeights[k] = Math.max(0, weights[k] - delta * proportion); });</p>
<p class="p1"><span class="Apple-converted-space">        </span>const sum = Object.values(newWeights).reduce(function(a, b) { return a + b; }, 0);</p>
<p class="p1"><span class="Apple-converted-space">        </span>Object.keys(newWeights).forEach(function(k) { newWeights[k] = newWeights[k] / sum; });</p>
<p class="p1"><span class="Apple-converted-space">        </span>setWeights(newWeights);</p>
<p class="p1"><span class="Apple-converted-space">      </span>};</p>
<p class="p1"><span class="Apple-converted-space">      </span>const curveTargets = { m1: { alpha: 0.3, beta: 0.6, d: 0.15 }, m2: { alpha: 0.3, beta: 0.6, d: 0.15 }, m3: { alpha: 0.6, beta: 1.3, d: 0.2 } };</p>
<p class="p1"><span class="Apple-converted-space">      </span>const estimate = useMemo(function() {</p>
<p class="p1"><span class="Apple-converted-space">        </span>return { alpha: weights.w1 * curveTargets.m1.alpha + weights.w2 * curveTargets.m2.alpha + weights.w3 * curveTargets.m3.alpha,</p>
<p class="p1"><span class="Apple-converted-space">          </span>beta: weights.w1 * curveTargets.m1.beta + weights.w2 * curveTargets.m2.beta + weights.w3 * curveTargets.m3.beta,</p>
<p class="p1"><span class="Apple-converted-space">          </span>d: weights.w1 * curveTargets.m1.d + weights.w2 * curveTargets.m2.d + weights.w3 * curveTargets.m3.d };</p>
<p class="p1"><span class="Apple-converted-space">      </span>}, [weights]);</p>
<p class="p1">const generateMomentCurve = function(momentIndex, numPoints) {</p>
<p class="p1"><span class="Apple-converted-space">        </span>numPoints = numPoints || 100;</p>
<p class="p1"><span class="Apple-converted-space">        </span>const points = [];</p>
<p class="p1"><span class="Apple-converted-space">        </span>const intersectX = 0.3, intersectY = 0.6, intersectZ = 0.15;</p>
<p class="p1"><span class="Apple-converted-space">        </span>for (var i = 0; i &lt; numPoints; i++) {</p>
<p class="p1"><span class="Apple-converted-space">          </span>var t = (i / (numPoints - 1)) * 2 - 1;</p>
<p class="p1"><span class="Apple-converted-space">          </span>var alpha, beta, d;</p>
<p class="p1"><span class="Apple-converted-space">          </span>if (momentIndex === 0) { alpha = intersectX + 1.0 * t; beta = intersectY + 0.5 * t; d = intersectZ + 0.2 * t; }</p>
<p class="p1"><span class="Apple-converted-space">          </span>else if (momentIndex === 1) { alpha = intersectX + 0.3 * t; beta = intersectY + 0.6 * t; d = intersectZ - 0.3 * t; }</p>
<p class="p1"><span class="Apple-converted-space">          </span>else { alpha = intersectX + 0.8 * t + 0.3; beta = intersectY + 0.6 * t * t + 0.7; d = intersectZ + 0.15 * t + 0.05; }</p>
<p class="p1"><span class="Apple-converted-space">          </span>beta = Math.max(0.05, beta);</p>
<p class="p1"><span class="Apple-converted-space">          </span>points.push({ x: alpha, y: beta, z: d });</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>return points;</p>
<p class="p1"><span class="Apple-converted-space">      </span>};</p>
<p class="p1"><span class="Apple-converted-space">      </span>const momentCurves = useMemo(function() {</p>
<p class="p1"><span class="Apple-converted-space">        </span>return [</p>
<p class="p1"><span class="Apple-converted-space">          </span>{ points: generateMomentCurve(0), color: '#3b82f6', label: 'E[g₁(θ)] = 0' },</p>
<p class="p1"><span class="Apple-converted-space">          </span>{ points: generateMomentCurve(1), color: '#22c55e', label: 'E[g₂(θ)] = 0' },</p>
<p class="p1"><span class="Apple-converted-space">          </span>{ points: generateMomentCurve(2), color: '#ec4899', label: 'E[g₃(θ)] = 0' }</p>
<p class="p1"><span class="Apple-converted-space">        </span>];</p>
<p class="p1"><span class="Apple-converted-space">      </span>}, []);</p>
<p class="p1"><span class="Apple-converted-space">      </span>const project = function(x, y, z) {</p>
<p class="p1"><span class="Apple-converted-space">        </span>var cosX = Math.cos(rotation.x), sinX = Math.sin(rotation.x);</p>
<p class="p1"><span class="Apple-converted-space">        </span>var cosY = Math.cos(rotation.y), sinY = Math.sin(rotation.y);</p>
<p class="p1"><span class="Apple-converted-space">        </span>var x1 = x * cosY - z * sinY; var z1 = x * sinY + z * cosY;</p>
<p class="p1"><span class="Apple-converted-space">        </span>var y1 = y * cosX - z1 * sinX; var z2 = y * sinX + z1 * cosX;</p>
<p class="p1"><span class="Apple-converted-space">        </span>var scale = 80 * zoom; var perspective = 5; var factor = perspective / (perspective + z2);</p>
<p class="p1"><span class="Apple-converted-space">        </span>return { x: 250 + x1 * scale * factor, y: 250 - y1 * scale * factor, z: z2 };</p>
<p class="p1"><span class="Apple-converted-space">      </span>};</p>
<p class="p1"><span class="Apple-converted-space">      </span>const handleMouseDown = function(e) { setIsDragging(true); setLastMouse({ x: e.clientX, y: e.clientY }); };</p>
<p class="p1"><span class="Apple-converted-space">      </span>const handleMouseMove = function(e) {</p>
<p class="p1"><span class="Apple-converted-space">        </span>if (!isDragging) return;</p>
<p class="p1"><span class="Apple-converted-space">        </span>var dx = e.clientX - lastMouse.x; var dy = e.clientY - lastMouse.y;</p>
<p class="p1"><span class="Apple-converted-space">        </span>setRotation(function(prev) { return { x: prev.x + dy * 0.01, y: prev.y + dx * 0.01 }; });</p>
<p class="p1"><span class="Apple-converted-space">        </span>setLastMouse({ x: e.clientX, y: e.clientY });</p>
<p class="p1"><span class="Apple-converted-space">      </span>};</p>
<p class="p1"><span class="Apple-converted-space">      </span>const handleMouseUp = function() { setIsDragging(false); };</p>
<p class="p1"><span class="Apple-converted-space">      </span>const handleWheel = function(e) { e.preventDefault(); setZoom(function(prev) { return Math.max(0.5, Math.min(2, prev - e.deltaY * 0.001)); }); };</p>
<p class="p1"><span class="Apple-converted-space">      </span>var p1 = project(0, 0, 0), p2 = project(2.2, 0, 0), p3 = project(0, 2.2, 0), p4 = project(0, 0, 2.2);</p>
<p class="p1"><span class="Apple-converted-space">      </span>var pL1 = project(2.4, 0, 0), pL2 = project(0, 2.4, 0), pL3 = project(0, 0, 2.4);</p>
<p class="p1"><span class="Apple-converted-space">      </span>var projEst = project(estimate.alpha, estimate.beta, estimate.d);</p>
<p class="p1"><span class="Apple-converted-space">      </span>var getCurvePath = function(points) {</p>
<p class="p1"><span class="Apple-converted-space">        </span>return points.map(function(p, i) { var proj = project(p.x, p.y, p.z); return (i === 0 ? 'M' : 'L') + ' ' + proj.x + ' ' + proj.y; }).join(' ');</p>
<p class="p1"><span class="Apple-converted-space">      </span>};</p>
<p class="p1">return h('div', { className: 'container' },</p>
<p class="p1"><span class="Apple-converted-space">        </span>h('h1', { className: 'title' }, 'SMM: Moment Conditions in Parameter Space'),</p>
<p class="p1"><span class="Apple-converted-space">        </span>h('p', { className: 'subtitle' }, 'You have 3 parameters (α, β, δ) and 3 moment conditions. Each curve shows where a moment condition E[gᵢ(θ)] = 0. Adjust the weights to see how the weight matrix affects parameter estimates.'),</p>
<p class="p1"><span class="Apple-converted-space">        </span>h('div', { className: 'main-content' },</p>
<p class="p1"><span class="Apple-converted-space">          </span>h('div', { className: 'viz-container', onMouseDown: handleMouseDown, onMouseMove: handleMouseMove, onMouseUp: handleMouseUp, onMouseLeave: handleMouseUp, onWheel: handleWheel },</p>
<p class="p1"><span class="Apple-converted-space">            </span>h('svg', { width: 500, height: 500 },</p>
<p class="p1"><span class="Apple-converted-space">              </span>h('defs', null,</p>
<p class="p1"><span class="Apple-converted-space">                </span>h('marker', { id: 'arrowhead', markerWidth: 10, markerHeight: 7, refX: 9, refY: 3.5, orient: 'auto' }, h('polygon', { points: '0 0, 10 3.5, 0 7', fill: '#94a3b8' })),</p>
<p class="p1"><span class="Apple-converted-space">                </span>h('filter', { id: 'glow' }, h('feGaussianBlur', { stdDeviation: 3, result: 'coloredBlur' }), h('feMerge', null, h('feMergeNode', { in: 'coloredBlur' }), h('feMergeNode', { in: 'SourceGraphic' })))),</p>
<p class="p1"><span class="Apple-converted-space">              </span>h('rect', { x: 0, y: 0, width: 500, height: 500, fill: '#1e293b', rx: 8 }),</p>
<p class="p1"><span class="Apple-converted-space">              </span>h('line', { x1: p1.x, y1: p1.y, x2: p2.x, y2: p2.y, stroke: '#94a3b8', strokeWidth: 2, markerEnd: 'url(#arrowhead)' }),</p>
<p class="p1"><span class="Apple-converted-space">              </span>h('line', { x1: p1.x, y1: p1.y, x2: p3.x, y2: p3.y, stroke: '#94a3b8', strokeWidth: 2, markerEnd: 'url(#arrowhead)' }),</p>
<p class="p1"><span class="Apple-converted-space">              </span>h('line', { x1: p1.x, y1: p1.y, x2: p4.x, y2: p4.y, stroke: '#94a3b8', strokeWidth: 2, markerEnd: 'url(#arrowhead)' }),</p>
<p class="p1"><span class="Apple-converted-space">              </span>h('text', { x: pL1.x, y: pL1.y, fill: '#94a3b8', fontSize: 18, fontWeight: 'bold', fontStyle: 'italic' }, 'α'),</p>
<p class="p1"><span class="Apple-converted-space">              </span>h('text', { x: pL2.x, y: pL2.y, fill: '#94a3b8', fontSize: 18, fontWeight: 'bold', fontStyle: 'italic' }, 'β'),</p>
<p class="p1"><span class="Apple-converted-space">              </span>h('text', { x: pL3.x, y: pL3.y, fill: '#94a3b8', fontSize: 18, fontWeight: 'bold', fontStyle: 'italic' }, 'δ'),</p>
<p class="p1"><span class="Apple-converted-space">              </span>h('circle', { cx: p1.x, cy: p1.y, r: 3, fill: '#64748b' }),</p>
<p class="p1"><span class="Apple-converted-space">              </span>showMoments.m1 &amp;&amp; h('path', { d: getCurvePath(momentCurves[0].points), fill: 'none', stroke: '#3b82f6', strokeWidth: 3, strokeLinecap: 'round' }),</p>
<p class="p1"><span class="Apple-converted-space">              </span>showMoments.m2 &amp;&amp; h('path', { d: getCurvePath(momentCurves[1].points), fill: 'none', stroke: '#22c55e', strokeWidth: 3, strokeLinecap: 'round' }),</p>
<p class="p1"><span class="Apple-converted-space">              </span>showMoments.m3 &amp;&amp; h('path', { d: getCurvePath(momentCurves[2].points), fill: 'none', stroke: '#ec4899', strokeWidth: 3, strokeLinecap: 'round' }),</p>
<p class="p1"><span class="Apple-converted-space">              </span>h('g', { filter: 'url(#glow)' }, h('circle', { cx: projEst.x, cy: projEst.y, r: 8, fill: '#fbbf24', stroke: 'white', strokeWidth: 2 })),</p>
<p class="p1"><span class="Apple-converted-space">              </span>h('text', { x: projEst.x + 12, y: projEst.y - 8, fill: '#fbbf24', fontSize: 12, fontWeight: 'bold' }, 'θ̂'),</p>
<p class="p1"><span class="Apple-converted-space">              </span>h('text', { x: 10, y: 485, fill: '#64748b', fontSize: 12 }, 'Drag to rotate • Scroll to zoom'))),</p>
<p class="p1"><span class="Apple-converted-space">          </span>h('div', { className: 'panel' },</p>
<p class="p1"><span class="Apple-converted-space">            </span>h('h3', { className: 'panel-title' }, 'Moment Conditions'),</p>
<p class="p1"><span class="Apple-converted-space">            </span>[0, 1, 2].map(function(i) {</p>
<p class="p1"><span class="Apple-converted-space">              </span>return h('label', { key: i, className: 'checkbox-row' },</p>
<p class="p1"><span class="Apple-converted-space">                </span>h('input', { type: 'checkbox', checked: showMoments['m' + (i + 1)], onChange: function(e) { var key = 'm' + (i + 1); setShowMoments(function(prev) { var next = Object.assign({}, prev); next[key] = e.target.checked; return next; }); } }),</p>
<p class="p1"><span class="Apple-converted-space">                </span>h('span', { className: 'color-line', style: { backgroundColor: momentCurves[i].color } }),</p>
<p class="p1"><span class="Apple-converted-space">                </span>h('span', { className: 'checkbox-label' }, momentCurves[i].label)); }),</p>
<p class="p1"><span class="Apple-converted-space">            </span>h('h3', { className: 'panel-title panel-title-mt' }, 'Choose Weight Matrix'),</p>
<p class="p1"><span class="Apple-converted-space">            </span>h('div', { className: 'weights-box' },</p>
<p class="p1"><span class="Apple-converted-space">              </span>h('p', { className: 'weights-label' }, 'How much do you care about each moment?'),</p>
<p class="p1"><span class="Apple-converted-space">              </span>h('div', { className: 'slider-group' }, h('div', { className: 'slider-header' }, h('div', { className: 'slider-header-left' }, h('span', { className: 'slider-color', style: { backgroundColor: '#3b82f6' } }), h('span', { className: 'slider-name' }, 'Moment 1')), h('span', { className: 'slider-value slider-value-blue' }, (weights.w1 * 100).toFixed(0) + '%')), h('input', { type: 'range', min: 0, max: 1, step: 0.01, value: weights.w1, className: 'slider-blue', onChange: function(e) { updateWeight('w1', parseFloat(e.target.value)); } })),</p>
<p class="p1"><span class="Apple-converted-space">              </span>h('div', { className: 'slider-group' }, h('div', { className: 'slider-header' }, h('div', { className: 'slider-header-left' }, h('span', { className: 'slider-color', style: { backgroundColor: '#22c55e' } }), h('span', { className: 'slider-name' }, 'Moment 2')), h('span', { className: 'slider-value slider-value-green' }, (weights.w2 * 100).toFixed(0) + '%')), h('input', { type: 'range', min: 0, max: 1, step: 0.01, value: weights.w2, className: 'slider-green', onChange: function(e) { updateWeight('w2', parseFloat(e.target.value)); } })),</p>
<p class="p1"><span class="Apple-converted-space">              </span>h('div', { className: 'slider-group' }, h('div', { className: 'slider-header' }, h('div', { className: 'slider-header-left' }, h('span', { className: 'slider-color', style: { backgroundColor: '#ec4899' } }), h('span', { className: 'slider-name' }, 'Moment 3')), h('span', { className: 'slider-value slider-value-pink' }, (weights.w3 * 100).toFixed(0) + '%')), h('input', { type: 'range', min: 0, max: 1, step: 0.01, value: weights.w3, className: 'slider-pink', onChange: function(e) { updateWeight('w3', parseFloat(e.target.value)); } })),</p>
<p class="p1"><span class="Apple-converted-space">              </span>h('div', { className: 'total-row' }, 'Total: ' + ((weights.w1 + weights.w2 + weights.w3) * 100).toFixed(0) + '%')),</p>
<p class="p1"><span class="Apple-converted-space">            </span>h('div', { className: 'estimates-box' },</p>
<p class="p1"><span class="Apple-converted-space">              </span>h('p', { className: 'estimates-label' }, 'Resulting Parameter Estimates'),</p>
<p class="p1"><span class="Apple-converted-space">              </span>h('div', { className: 'estimate-row' }, h('span', { className: 'estimate-name' }, 'α ='), h('span', { className: 'estimate-value' }, estimate.alpha.toFixed(3))),</p>
<p class="p1"><span class="Apple-converted-space">              </span>h('div', { className: 'estimate-row' }, h('span', { className: 'estimate-name' }, 'β ='), h('span', { className: 'estimate-value' }, estimate.beta.toFixed(3))),</p>
<p class="p1"><span class="Apple-converted-space">              </span>h('div', { className: 'estimate-row' }, h('span', { className: 'estimate-name' }, 'δ ='), h('span', { className: 'estimate-value' }, estimate.d.toFixed(3)))),</p>
<p class="p1"><span class="Apple-converted-space">            </span>h('div', { className: 'info-box' }, h('p', { className: 'info-title' }, 'SMM Intuition:'), h('p', null, 'Each curve represents parameter values that set one simulated moment equal to its data counterpart.'), h('p', null, 'The weight matrix W determines how to optimally combine the moments, yielding different estimates.')))),</p>
<p class="p1"><span class="Apple-converted-space">        </span>h('div', { className: 'legend' },</p>
<p class="p1"><span class="Apple-converted-space">          </span>h('div', { className: 'legend-item' }, h('div', { className: 'legend-line bg-blue' }), h('span', { className: 'legend-text' }, 'Moment 1')),</p>
<p class="p1"><span class="Apple-converted-space">          </span>h('div', { className: 'legend-item' }, h('div', { className: 'legend-line bg-green' }), h('span', { className: 'legend-text' }, 'Moment 2')),</p>
<p class="p1"><span class="Apple-converted-space">          </span>h('div', { className: 'legend-item' }, h('div', { className: 'legend-line bg-pink' }), h('span', { className: 'legend-text' }, 'Moment 3')),</p>
<p class="p1"><span class="Apple-converted-space">          </span>h('div', { className: 'legend-item' }, h('div', { className: 'legend-dot bg-yellow' }), h('span', { className: 'legend-text' }, 'SMM Estimate θ̂'))));</p>
<p class="p1"><span class="Apple-converted-space">    </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>ReactDOM.render(React.createElement(GMMVisualization), document.getElementById('root'));</p>
<p class="p1"><span class="Apple-converted-space">  </span>&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
